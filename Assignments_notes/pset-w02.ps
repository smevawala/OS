%!PS-Adobe-3.0
%%Creator: groff version 1.19.1
%%CreationDate: Thu Sep 19 03:25:50 2013
%%DocumentNeededResources: font Times-Roman
%%+ font Helvetica-Bold
%%+ font Courier
%%DocumentSuppliedResources: procset grops 1.19 1
%%Pages: 2
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.19 1
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Roman
%%IncludeResource: font Helvetica-Bold
%%IncludeResource: font Courier
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Courier@0 ENC0/Courier RE/Helvetica-Bold@0 ENC0/Helvetica-Bold RE
/Times-Roman@0 ENC0/Times-Roman RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(ECE357:Computer Operating Systems)69.336 48 Q
(PS 2/pg 1)41.55 E(\2512013 Jef)119.78 E 2.5(fH)-.25 G(akner)-2.5 E/F1
11/Helvetica-Bold@0 SF(Pr)213.561 97 Q(ob)-.22 E
(lem 1 -- A simpli\214ed \214nd command)-.11 E/F2 11/Times-Roman@0 SF
.468(The unix)58 116 R/F3 11/Courier@0 SF .468(find \(1\))3.218 F F2
.468(command is a po)3.218 F .468(werful tool, at the heart of which is\
 an engine which can perform a recursi)-.275 F -.165(ve)-.275 G -.11(wa)
58 129 S 2.311(lk of the \214lesystem.).11 F 2.311
(In this problem set, you will write a v)7.811 F 2.311
(astly simpli\214ed v)-.275 F 2.312(ersion of the command which)-.165 F
.239(illustrates some of its functionality)58 142 R 5.739(.I)-.715 G
2.989(tm)-5.739 G .239(ight be instructi)-2.989 F .569 -.165(ve t)-.275
H 2.989(or).165 G .239(ead the man page for)-2.989 F F3(find)2.988 E F2
.238(and e)2.988 F .238(xplore ho)-.165 F 2.988(wi)-.275 G 2.988(tw)
-2.988 G(orks.)-3.098 E -1.21(Yo)58 161 S(ur command will be in)1.21 E
-.22(vo)-.44 G -.11(ke).22 G 2.75(dl).11 G(ik)-2.75 E 2.75(et)-.11 G
(his:)-2.75 E/F4 10/Courier@0 SF(programname options starting_path)58
175 Q F2 -1.21(Yo)58 194 S 1.548(ur program will be)1.21 F 1.548
(gin the w)-.165 F 1.548(alk at the gi)-.11 F -.165(ve)-.275 G 4.298(ns)
.165 G 1.548(tarting path name \(which could be relati)-4.298 F 1.878
-.165(ve o)-.275 H 4.298(ra).165 G 1.548(bsolute\) and will)-4.298 F
(recursi)58 207 Q -.165(ve)-.275 G 1.182(ly e).165 F 1.182
(xplore all nodes of the \214lesystem at and belo)-.165 F 3.931(wt)-.275
G 1.181(hat point.)-3.931 F 1.181
(At each node, it will print out some basic)6.681 F(information.)58 220
Q(Don')58 239 Q 3.394(tc)-.198 G .644(heat by using)-3.394 F F3(fts)
3.395 E F2(or)3.395 E F3(system\("find"\))3.395 E F2 .645
(or something lik)3.395 F 3.395(et)-.11 G 3.395(hat. Y)-3.395 F .645
(our solution should in)-1.21 F -.22(vo)-.44 G(lv).22 E 3.395(et)-.165 G
.645(hings such)-3.395 F(as)58 252 Q F3(readdir)2.75 E F2(and)2.75 E F3
(stat)2.75 E F2(.)A -1.21(Yo)58 271 S 3.409(un)1.21 G .658
(eed not be concerned with some "rob)-3.409 F .658(ustness" issues, suc\
h as running out of open \214le descriptors, running out)-.22 F 2.758
(of memory)58 284 R 5.508(,e)-.715 G 5.509(tc. B)-5.508 F(UT)-.11 E
5.509(,y)-.814 G 2.759
(our program should gracefully detect and report an)-5.509 F 5.509(ye)
-.165 G 2.759(rror conditions, as opposed to)-5.509 F
(unceremoniously dumping core.)58 297 Q -1.21(Yo)58 316 S(u')1.21 E .11
(ll \214nd that directory entries come back to you unsorted.)-.11 F
(Don')5.609 E 2.859(tw)-.198 G .109(orry about it.)-2.969 F .109
(Also don')5.609 F 2.859(tw)-.198 G .109(orry too much about)-2.969 F
3.549(ap)58 329 S .799(re-order vs a post-order vs an unordered w)-3.549
F 3.55(alk. All)-.11 F .8(of those things w)3.55 F .8
(ould require you to sort each directory you)-.11 F(encounter)58 342 Q
2.75(,w)-.44 G(hich w)-2.75 E
(ould only add to the unpleasantness of this assignment.)-.11 E 1.223
(The options are, in f)58 361 R 1.223(act optional \(for the in)-.11 F
-.22(vo)-.44 G -.11(ke).22 G 3.973(ro).11 G 3.973(ft)-3.973 G 1.223
(he program, not for you\) and can be an)-3.973 F 3.973(yo)-.165 G 1.222
(ne or more of the)-3.973 F(follo)58 374 Q(wing \(if you don')-.275 E
2.75(tk)-.198 G(no)-2.75 E 2.75(wh)-.275 G .55 -.275(ow t)-2.75 H 2.75
(op).275 G(arse command-line ar)-2.75 E(guments in C, tak)-.198 E 2.75
(eal)-.11 G(ook at)-2.75 E F3(getopt\(3\))2.75 E F2(:)A F3 1.354
(-u user)58 393 R F2 4.104(:O)C 1.354(nly list nodes which are o)-4.104
F 1.354(wned by the speci\214ed user)-.275 F 4.105(,w)-.44 G 1.355
(hich can be gi)-4.105 F -.165(ve)-.275 G 4.105(ne).165 G 1.355
(ither by name or by uid)-4.105 F 2.469
(number --look up the library function)58 406 R F3(getpwnam\(3\))5.219 E
F2 7.969(.A)C 2.468(ssume that if a number is pro)-7.969 F 2.468
(vided, that is the uid,)-.165 F(otherwise look up the user name.)58 419
Q F3 1.485(-m mtime)58 438 R F2 4.235(:I)C 4.235(fm)-4.235 G 1.485
(time is a positi)-4.235 F 1.815 -.165(ve i)-.275 H(nte).165 E(ger)-.165
E 4.235(,o)-.44 G 1.485(nly list nodes which ha)-4.235 F 1.816 -.165
(ve N)-.22 H 2.366 -.44(OT b).165 H 1.486
(een modi\214ed in at least that man).44 F(y)-.165 E .428
(seconds, i.e. the)58 451 R 3.178(ya)-.165 G .428(re at least that man)
-3.178 F 3.177(ys)-.165 G .427(econds old.)-3.177 F .427(If mtime is ne)
5.927 F -.055(ga)-.165 G(ti).055 E -.165(ve)-.275 G 3.177(,o).165 G .427
(nly list nodes which ha)-3.177 F .757 -.165(ve b)-.22 H .427
(een modi\214ed).165 F(no more than -mtime seconds ago.)58 464 Q
(Note that)5.5 E F3(find)2.75 E F2(tends to e)2.75 E
(xpress this in terms of days, not seconds.)-.165 E .651(At each node w\
hich is to be listed, your program will output one line in a format sim\
ilar to the output of the)58 483 R F3(find)3.401 E F2(command with the)
58 496 Q F3(-ls)2.75 E F2(option \(omitting the block count\).)2.75 E
(An e)5.5 E(xample output is:)-.165 E F4 6($.)58 523 S
(/rls /tmp/testing)-6 E(0817/196265 drwxr-xr-x)58 537 Q 12(4h)12 G 30
(ak users)-12 F(4096 Sep 15 2013 00:15 /tmp/testing)54 E
(0817/196266 drwxr-xr-x)58 551 Q 12(2h)12 G 30(ak users)-12 F
(4096 Sep 15 2013 00:16 /tmp/testing/d1)54 E(0817/196268 -rw-r--r--)58
565 Q 12(1h)12 G 30(ak users)-12 F 6(5S)72 G
(ep 15 2013 00:16 /tmp/testing/d1/f1)-6 E(0817/196270 crw-r--r--)58 579
Q 12(1r)12 G 24(oot root 0x0a14)-12 F
(Sep 15 2013 00:16 /tmp/testing/d2/device)6 E(0817/196271 lrwxr-xr-x)58
593 Q 12(1h)12 G 30(ak users)-12 F 6(8S)72 G
(ep 15 2013 00:31 /tmp/testing/d2/l3)-6 E(-> ../d1/f1)70 607 Q F2
(Note the follo)58 620 Q(wing items are required:)-.275 E .011
(\203The de)72.4 633 R .011
(vice \(\214lesystem identi\214er\) and inode number of the node.)-.275
F .011(Note that the former is of type)5.511 F F3(dev_t)2.761 E F2 2.76
(,w)C .01(hich is)-2.76 F 2.971(a6)72.4 646 S .222
(4-bit quantity on most Linux systems.)-2.971 F .222(In the e)5.722 F
.222(xample abo)-.165 F -.165(ve)-.165 G 2.972(,i).165 G 2.972(ti)-2.972
G 2.972(sp)-2.972 G .222(rinted in he)-2.972 F 2.972(xa)-.165 G .222
(nd 0-padded to at least 4 he)-2.972 F(x)-.165 E(digits.)72.4 659 Q .38
(\203The type of node and its permissions mask, in the format which ls \
uses.)72.4 672 R .379(Read the man pages carefully and refer)5.879 F(to\
 lecture notes. Consider all of the cases \(e.g. the set-gid bit is on \
b)72.4 685 Q(ut the group e)-.22 E -.165(xe)-.165 G(cute bit is of).165
E(f\).)-.275 E(\203The number of links to the node)72.4 698 Q 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(ECE357:Computer Operating Systems)36 52 Q
(PS 2/pg 2)78.105 E(\2512013 Jef)164.158 E 2.75(fH)-.275 G(akner)-2.75 E
1.206(\203The o)72.4 104 R 1.206(wner \(user\) of the node.)-.275 F
1.206(Print this out as a name, b)6.706 F 1.207(ut if there is no inte)
-.22 F(ger)-.165 E 1.207(->name translation a)-.22 F -.275(va)-.22 G
(ilable,).275 E(print it out as an inte)72.4 117 Q(ger)-.165 E 5.5(.L)
-.605 G(ook at the man page)-5.5 E/F1 11/Courier@0 SF(getpwuid\(3\))2.75
E F0(.)A(\203The group o)72.4 130 Q(wner of the node.)-.275 E
(Similar deal as abo)5.5 E -.165(ve)-.165 G(.).165 E .641
(\203The size of the node, in bytes.)72.4 143 R -.165(Fo)6.141 G 3.391
(rB).165 G .641(LOCK SPECIAL or CHAR SPECIAL de)-3.391 F .641
(vice nodes, the size \214eld doesn')-.275 F(t)-.198 E(mak)72.4 156 Q
3.343(ea)-.11 G .923 -.165(ny s)-3.343 H .593(ense, so print the ra).165
F 3.343(wd)-.165 G -.275(ev)-3.343 G .593(ice number in he).275 F .593
(xadecimal instead.)-.165 F .593(If you don')6.093 F 3.344(tq)-.198 G
.594(uite understand what this)-3.344 F(means right no)72.4 169 Q 1.43
-.715(w, d)-.275 H(on').715 E 2.75(tw)-.198 G(orry about it.)-2.86 E
.724(\203The modi\214cation time of the node.)72.4 182 R .723(Use an)
6.223 F 3.473(yr)-.165 G .723
(easonable format for printing out the date/time of this timestamp.)
-3.473 F(The e)72.4 195 Q(xample abo)-.165 E .33 -.165(ve d)-.165 H(if)
.165 E(fers slightly from)-.275 E F1(ls)2.75 E F0 5.5(.L)C(ook at)-5.5 E
F1(localtime\(3\))2.75 E F0(.)A(\203The path name of the node.)72.4 208
Q(\203If the node is a symbolic link, the tar)72.4 221 Q
(get of the link.)-.198 E/F2 11/Helvetica-Bold@0 SF(Pr)249.077 247 Q(ob)
-.22 E(lem 2 -- Extra Credit)-.11 E F0 -.165(Fo)50.8 260 S 2.75(r1p).165
G(oint e)-2.75 E(xtra credit, implement BO)-.165 E(TH of the follo)-.44
E(wing tw)-.275 E 2.75(oo)-.11 G(ptions:)-2.75 E F1(-x)50.8 279 Q F0
3.149(:W)C .399(hen speci\214ed, stay within the same mounted \214lesys\
tem \(we called this a "v)-3.149 F .4
(olume" in class\) as the one in which)-.22 F(your tra)50.8 289 Q -.165
(ve)-.22 G(rsal be).165 E -.055(ga)-.165 G 2.75(n. Print).055 F 2.75(am)
2.75 G(essage to)-2.75 E F1(stderr)2.75 E F0(,e.g.:)A/F3 10/Courier@0 SF
(note: not crossing mount point at /dev/shm)50.8 303 Q F1 .576
(-l target)50.8 322 R F0 3.326(:W)C .575(hen speci\214ed, only print ou\
t information about nodes which are symlinks whose tar)-3.326 F .575
(gets successfully)-.198 F(resolv)50.8 335 Q 2.75(et)-.165 G 2.75(oa)
-2.75 G(nother node called)-2.75 E F1(target)2.75 E F0 5.5(.T)C(he tar)
-5.5 E(get need not be on the same mounted v)-.198 E 2.75(olume. E.g.)
-.22 F F3 6($.)50.8 349 S(/rls -l /tmp/testing/d1/f1 /tmp/testing)-6 E
(0817/196271 lrwxr-xr-x)50.8 363 Q 12(1h)12 G 30(ak users)-12 F 6(8S)72
G(ep 15 2011 00:31 /tmp/testing/d2/l3)-6 E(-> ../d1/f1)62.8 377 Q F0
.377(Caution: ruminate on the follo)50.8 403 R .377(wing question: F)
-.275 F .377(or a gi)-.165 F -.165(ve)-.275 G 3.127(nt).165 G(ar)-3.127
E .378(get T)-.198 F 3.128(,i)-.814 G 3.128(st)-3.128 G .378
(here a unique pathname P which resolv)-3.128 F .378(es to that)-.165 F
(tar)50.8 416 Q(get?)-.198 E 0 Cg EP
%%Trailer
end
%%EOF
