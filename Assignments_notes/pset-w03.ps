%!PS-Adobe-3.0
%%Creator: groff version 1.19.1
%%CreationDate: Thu Oct  3 02:37:28 2013
%%DocumentNeededResources: font Times-Roman
%%+ font Helvetica-Bold
%%+ font Times-Italic
%%+ font Courier
%%+ font Times-Bold
%%DocumentSuppliedResources: procset grops 1.19 1
%%Pages: 2
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.19 1
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Roman
%%IncludeResource: font Helvetica-Bold
%%IncludeResource: font Times-Italic
%%IncludeResource: font Courier
%%IncludeResource: font Times-Bold
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Bold@0 ENC0/Times-Bold RE/Courier@0 ENC0/Courier RE
/Times-Italic@0 ENC0/Times-Italic RE/Helvetica-Bold@0 ENC0
/Helvetica-Bold RE/Times-Roman@0 ENC0/Times-Roman RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(ECE357:Computer Operating Systems)69.336 48 Q
(PS 3/pg 1)41.55 E(\2512013 Jef)119.78 E 2.5(fH)-.25 G(akner)-2.5 E/F1
11/Helvetica-Bold@0 SF(Pr)259.398 97 Q(ob)-.22 E(lem 1 -- The Shell)-.11
E/F2 11/Times-Roman@0 SF(Write the UNIX shell.)58 116 Q(<)60.75 129 Q/F3
11/Times-Italic@0 SF(pause until)A F2(shell shock)2.75 E F3(wear)2.75 E
2.75(so)-.11 G -.198(ff)-2.75 G F2(>).198 E(Ev)58 142 Q .15
(en the simplest of real UNIX shells is thousands of lines of C code.)
-.165 F(Don')5.65 E 2.9(tw)-.198 G(orry)-3.01 E 2.9(,y)-.715 G .15
(ou will be writing a minuscule,)-2.9 F(super)58 155 Q
(-simpli\214ed shell.)-.22 E -1.21(Yo)58 174 S .242
(ur shell shall accept lines of input from standard input until EOF)1.21
F 5.742(.D)-.88 G(on')-5.742 E 2.992(tw)-.198 G .242
(orry about issuing a prompt, command-)-3.102 F .536(line editing, etc.)
58 187 R .536(Each line is a command to be e)6.036 F -.165(xe)-.165 G
3.285(cuted. The).165 F .535(shell should fork to create a ne)3.285 F
3.285(wp)-.275 G .535(rocess in which to)-3.285 F 1.079
(run the command, set up an)58 200 R 3.829(yr)-.165 G 1.079
(equested I/O redirection \(see belo)-3.829 F 1.079(w\), e)-.275 F -.165
(xe)-.165 G 3.829(ct).165 G 1.079(he program, w)-3.829 F 1.079
(ait for and report the e)-.11 F(xit)-.165 E .072(status, and report th\
e real, user and system time consumed by the command \(a la)58 213 R/F4
11/Courier@0 SF(time)2.822 E F2 2.822(\). If)B .072(you are adv)2.822 F
.072(enturous, you)-.165 F 2.499(might e)58 226 R 2.499
(xamine other members of the)-.165 F F4(rusage)5.25 E F2 2.5
(structure and see ho)5.25 F 5.25(wt)-.275 G(he)-5.25 E 5.25(ya)-.165 G
2.5(re reported on dif)-5.25 F 2.5(ferent operating)-.275 F(systems.)58
239 Q -1.21(Yo)58 258 S 2.75(um)1.21 G
(ay assume that each command is formatted as follo)-2.75 E(ws:)-.275 E
/F5 10/Courier@0 SF(command {argument {argument...} } {redirection_oper\
ation {redirection_operation...}})58 285 Q F2 1.136(This is an e)58 311
R 1.136(xtreme simpli\214cation of shell syntax, b)-.165 F 1.136
(ut this is after all a course in operating systems, not compilers.)-.22
F .394(The abo)58 324 R .724 -.165(ve o)-.165 H .394(ptional ar).165 F
.394(guments and operators are whitespace-delimited, i.e. the)-.198 F
3.145(ya)-.165 G .395(re separated by one or more tabs or)-3.145 F 3.504
(spaces. This)58 337 R .753(will simplify parsing.)3.503 F .753
(The real shell accepts)6.253 F F4 .753(command argument>output)3.503 F
F2 .753(as well, b)3.503 F .753(ut you don')-.22 F(t)-.198 E(ha)58 350 Q
1.741 -.165(ve t)-.22 H 4.161(op).165 G 1.411(arse that if you don')
-4.161 F 4.161(tw)-.198 G 1.411(ant to.)-4.271 F/F6 11/Times-Bold@0 SF
4.161(Al)6.911 G 1.412
(ine that begins with the # character is a comment and should be)-4.161
F(ignor)58 363 Q(ed.)-.198 E F2(I/O redirection)284.467 389 Q
(Support the follo)58 415 Q 2.75(wr)-.275 G
(edirection operations \(note that pipes are not required since we ha)
-2.75 E -.165(ve)-.22 G(n').165 E 2.75(tt)-.198 G(alk)-2.75 E
(ed about them yet\):)-.11 E F5 55.2(<filename Open)58 429 R
(filename and redirect stdin)6 E 55.2(>filename Open/Create/Truncate)58
443 R(filename and redirect stdout)6 E 49.2
(2>filename Open/Create/Truncate)58 457 R(filename and redirect stderr)6
E 49.2(>>filename Open/Create/Append)58 471 R
(filename and redirect stdout)6 E 43.2(2>>filename Open/Create/Append)58
485 R(filename and redirect stderr)6 E F2(Clean File Descriptor En)
239.769 511 Q(vironment)-.44 E -1.21(Yo)58 537 S 3.075
(ur shell should fork and e)1.21 F -.165(xe)-.165 G 5.825(ct).165 G
3.074(he command with a standard, clean \214le descriptor en)-5.825 F
5.824(vironment. Only)-.44 F(\214le)5.824 E
(descriptors 0, 1 and 2 should be open, possibly redirected as abo)58
550 Q -.165(ve)-.165 G 5.5(.T).165 G
(here should be no dangling \214le descriptors.)-5.5 E 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 11/Times-Roman@0 SF(ECE357:Computer Operating Systems)36 52 Q
(PS 3/pg 2)78.105 E(\2512013 Jef)164.158 E 2.75(fH)-.275 G(akner)-2.75 E
(Example)297.447 104 Q/F1 10/Courier@0 SF 6($m)58 131 S(ysh)-6 E
(ls -l >ls.out)58 145 Q(Executing command ls with arguments "-l")58 159
Q(Command returned with return code 0,)58 173 Q
(consuming 0.005 real seconds, 0.002 user, 0.001 system)58 187 Q
(end of file)58 201 Q 6($c)58 215 S(at ls.out)-6 E(mysh.c)58 229 Q(mysh)
58 243 Q($)58 257 Q F0(Shell Scripts)289.038 296 Q -1.21(Yo)58 328 S
(ur shell must also support being in)1.21 E -.22(vo)-.44 G -.11(ke).22 G
2.75(da).11 G 2.75(sas)-2.75 G(cript interpreter:)-2.75 E F1
(mysh /tmp/script)58 342 Q F0 1.928(If pro)58 355 R 1.928
(vided with with an ar)-.165 F 1.928(gument as abo)-.198 F -.165(ve)
-.165 G 4.678(,y).165 G 1.928(our shell should open that and e)-4.678 F
-.165(xe)-.165 G 1.929(cute each line as a command.).165 F
(Otherwise, your shell should read commands from standard input.)58 368
Q -.77(Te)58 387 S(st this feature by creating an e).77 E -.165(xe)-.165
G(cutable script \214le that calls your shell as the interpreter using \
the #! notation.).165 E 0 Cg EP
%%Trailer
end
%%EOF
